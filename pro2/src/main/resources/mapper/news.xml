<<<<<<< HEAD
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ex.repository.NewsMapper">

	<!-- 메인 최신 5개 기사 -->
	<select id="selectLatest" parameterType="int" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl from news order by num desc fetch next #{limit} rows only
	</select>
	
	<!-- 속보 3개 기사 -->
	<select id="selectBreaking" parameterType="int" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl from news where is_breaking = 1 order by num desc fetch next #{limit} rows only
	</select>
	
	<!-- 최신 기사 목록 -->
	<select id="selectLatestPage" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl, reg from news order by num desc offset #{offset} rows fetch next #{limit} rows only
	</select>
	
	<!-- 전체 글 수 -->
	<select id="countAll" resultType="int">
		select count(*) from news
	</select>
	

=======
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ex.repository.NewsMapper">

	<!-- 메인 뉴스 1개 조회 -->
	<!-- 인기 순으로 내림차순 정렬, 최신 순으로 정렬, 가장 상위 1개 뉴스만 조회 -->
	<select id="mainNews" resultType="com.ex.data.NewsDTO">
		select * from (select num, title, content, writer, reg, readCount, hot, category, thumbUrl from news order by hot desc, reg desc) where rownum = 1
	</select>


>>>>>>> main
</mapper>