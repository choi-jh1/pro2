<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ex.repository.NewsMapper">

	<!-- 메인 최신 5개 기사 -->
	<select id="selectLatest" parameterType="int" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl from news order by num desc fetch next #{limit} rows only
	</select>
	
	<!-- 속보 3개 기사 -->
	<select id="selectBreaking" parameterType="int" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl from news where is_breaking = 1 order by num desc fetch next #{limit} rows only
	</select>
	
	<!-- 최신 기사 목록 -->
	<select id="selectLatestPage" resultType="com.ex.data.NewsDTO">
		select num, title, thumbUrl, reg from news order by num desc offset #{offset} rows fetch next #{limit} rows only
	</select>
	
	<!-- 전체 글 수 -->
	<select id="countAll" resultType="int">
		select count(*) from news
	</select>
	

</mapper>